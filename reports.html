<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports - TrackBuddy</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">
            <div class="logo-icon">
                <i class="fas fa-heartbeat"></i>
            </div>
            <div class="logo-text">TrackBuddy</div>
        </div>
        <ul class="nav-links">
            <li><a href="dashboard.html" class="nav-link"><i class="fas fa-chart-line"></i> <span>Dashboard</span></a></li>
            <li><a href="profile.html" class="nav-link"><i class="fas fa-user-md"></i> <span>Health Profile</span></a></li>
            <li><a href="nutrition.html" class="nav-link"><i class="fas fa-apple-alt"></i> <span>Nutrition</span></a></li>
            <li><a href="fitness.html" class="nav-link"><i class="fas fa-running"></i> <span>Fitness</span></a></li>
            <li><a href="hydration.html" class="nav-link"><i class="fas fa-tint"></i> <span>Hydration</span></a></li>
            <li><a href="reports.html" class="nav-link active"><i class="fas fa-chart-bar"></i> <span>Reports</span></a></li>
        </ul>
    </aside>

    <!-- Main Content -->
    <div class="main-content">
        <header class="header">
            <h1>Health Reports & Analytics</h1>
            <div class="user-profile">
                <div class="user-avatar" id="user-avatar">PS</div>
                <div>
                    <div class="user-name" id="user-name">Loading...</div>
                    <div class="user-role" id="user-email">Loading...</div>
                </div>
            </div>
        </header>

        <section class="page active">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Health Reports & Analytics</div>
                    <div class="card-actions">
                        <button class="btn" id="export-pdf-btn"><i class="fas fa-file-pdf"></i> Export PDF</button>
                        <button class="btn" id="export-csv-btn"><i class="fas fa-file-csv"></i> Export CSV</button>
                        <button class="btn" id="export-excel-btn"><i class="fas fa-file-excel"></i> Export Excel</button>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Report Period</label>
                        <select id="report-period">
                            <option value="week">Last 7 Days</option>
                            <option value="month">Last 30 Days</option>
                            <option value="quarter">Last 3 Months</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Report Type</label>
                        <select id="report-type">
                            <option value="summary">Health Summary</option>
                            <option value="nutrition">Nutrition Analysis</option>
                            <option value="fitness">Fitness Progress</option>
                            <option value="hydration">Hydration Report</option>
                        </select>
                    </div>
                    <button class="btn" style="align-self: flex-end;"><i class="fas fa-chart-bar"></i> Generate Report</button>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-title">Body Progress Tracking</div>
                    <div class="card-actions">
                        <button class="btn" id="add-progress-btn"><i class="fas fa-plus"></i> Add Progress</button>
                    </div>
                </div>
                <form id="progress-form" style="display: none;">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="weight">Weight (kg)</label>
                            <input type="number" id="weight" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="body-fat">Body Fat (%)</label>
                            <input type="number" id="body-fat" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="muscle-mass">Muscle Mass (kg)</label>
                            <input type="number" id="muscle-mass" step="0.1" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="chest">Chest (cm)</label>
                            <input type="number" id="chest" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="waist">Waist (cm)</label>
                            <input type="number" id="waist" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="hips">Hips (cm)</label>
                            <input type="number" id="hips" step="0.1" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="arms">Arms (cm)</label>
                            <input type="number" id="arms" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="thighs">Thighs (cm)</label>
                            <input type="number" id="thighs" step="0.1" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="progress-notes">Notes</label>
                        <textarea id="progress-notes" placeholder="Progress notes..."></textarea>
                    </div>
                    <div class="form-row">
                        <button type="submit" class="btn"><i class="fas fa-save"></i> Save Progress</button>
                        <button type="button" id="cancel-progress" class="btn btn-outline">Cancel</button>
                    </div>
                </form>
                <div id="progress-data" class="progress-display"></div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Progress Chart</div>
                    <div class="card-actions">
                        <button class="btn" id="export-chart-btn"><i class="fas fa-image"></i> Export Chart</button>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="progress-chart"></canvas>
                </div>
            </div>
        </section>

        <footer>
            <p>TrackBuddy &copy; 2023 | Corporate Wellness Platform | v2.1.4</p>
        </footer>
    </div>

    <style>
        .progress-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        .progress-card {
            background: var(--darker);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
        }
        .progress-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }
        .progress-label {
            font-size: 0.9rem;
            color: var(--gray);
            margin-top: 0.25rem;
        }
        textarea {
            width: 100%;
            min-height: 60px;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: var(--darker);
            color: var(--light);
            resize: vertical;
        }
        
        /* Report Styles */
        .report-section {
            margin-bottom: 2rem;
            padding: 1rem;
            background: var(--darker);
            border-radius: 8px;
        }
        
        .report-section h4 {
            color: var(--primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .stat-item {
            text-align: center;
            padding: 1rem;
            background: var(--dark);
            border-radius: 8px;
        }
        
        .stat-value {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--success);
            margin-bottom: 0.25rem;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        .workout-types {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .workout-type-item {
            padding: 0.75rem;
            background: var(--dark);
            border-radius: 6px;
            border-left: 3px solid var(--primary);
        }
        
        @media print {
            .sidebar, .header .user-profile, .card-actions {
                display: none !important;
            }
            
            .main-content {
                margin-left: 0 !important;
                padding: 1rem !important;
            }
            
            .card {
                box-shadow: none !important;
                border: 1px solid #ddd !important;
            }
        }
    </style>
    <script src="user-manager.js"></script>
    <script src="reports.js"></script>
</body>
</html>